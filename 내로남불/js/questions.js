// ë‚´ë¡œë‚¨ë¶ˆ í…ŒìŠ¤íŠ¸ ì§ˆë¬¸ë“¤
const questions = [
    {
        id: 1,
        title: "ğŸš— ì£¼ì°¨ ë¬¸ì œ",
        scenarioA: "ê¸‰í•œ ì¼ì´ ìˆì–´ì„œ ì ê¹ ì´ì¤‘ì£¼ì°¨ë¥¼ í–ˆë‹¤. 10ë¶„ ì •ë„ë©´ ëŒì•„ì˜¬ ì˜ˆì •ì´ë‹¤.",
        scenarioB: "ì¹œêµ¬ê°€ ê¸‰í•œ ì¼ì´ ìˆë‹¤ë©° ë‚´ ì°¨ ì•ì— ì´ì¤‘ì£¼ì°¨ë¥¼ í•´ë‘ê³  ê°”ë‹¤. ì–¸ì œ ì˜¬ì§€ ëª¨ë¥¸ë‹¤."
    },
    {
        id: 2,
        title: "ğŸ“± ë‹¨ì²´ ì±„íŒ…ë°© ì½ì”¹",
        scenarioA: "ë‹¨ì²´ ì±„íŒ…ë°©ì—ì„œ ëˆ„êµ°ê°€ ì§ˆë¬¸ì„ í–ˆëŠ”ë°, ë°”ë¹ ì„œ ì½ê³ ë„ ë‹µë³€í•˜ì§€ ì•Šì•˜ë‹¤.",
        scenarioB: "ë‹¨ì²´ ì±„íŒ…ë°©ì—ì„œ ë‚´ê°€ ì§ˆë¬¸ì„ í–ˆëŠ”ë°, ì—¬ëŸ¬ ëª…ì´ ì½ê³ ë„ ë‹µë³€í•˜ì§€ ì•Šì•˜ë‹¤."
    },
    {
        id: 3,
        title: "â° ì•½ì† ì‹œê°„ ì§€í‚¤ê¸°",
        scenarioA: "êµí†µì²´ì¦ ë•Œë¬¸ì— ì•½ì†ì— 15ë¶„ ëŠ¦ì—ˆë‹¤. ë¯¸ë¦¬ ì—°ë½ì€ í–ˆë‹¤.",
        scenarioB: "ì¹œêµ¬ê°€ êµí†µì²´ì¦ ë•Œë¬¸ì— 15ë¶„ ëŠ¦ëŠ”ë‹¤ê³  ì—°ë½ì´ ì™”ë‹¤."
    },
    {
        id: 4,
        title: "ğŸ• ë§ˆì§€ë§‰ í•œ ì¡°ê°",
        scenarioA: "í”¼ìë¥¼ ì‹œì¼œë¨¹ëŠ”ë°, ë§ˆì§€ë§‰ í•œ ì¡°ê°ì´ ë‚¨ì•˜ë‹¤. ë‚´ê°€ ì¢€ ë” ë¨¹ê³  ì‹¶ì–´ì„œ ê°€ì ¸ê°”ë‹¤.",
        scenarioB: "í”¼ìë¥¼ ì‹œì¼œë¨¹ëŠ”ë°, ë§ˆì§€ë§‰ í•œ ì¡°ê°ì„ ë‹¤ë¥¸ ì‚¬ëŒì´ ëˆˆì¹˜ ì•ˆ ë³´ê³  ê°€ì ¸ê°”ë‹¤."
    },
    {
        id: 5,
        title: "ğŸ¬ ì˜í™”ê´€ ì˜ˆë§¤ì„ ë¬¸ì œ",
        scenarioA: "ì˜í™”ê´€ì—ì„œ ì‹¤ìˆ˜ë¡œ ë‹¤ë¥¸ ì‚¬ëŒ ìë¦¬ì— ì•‰ì•˜ë‹¤ê°€, ê·¸ ì‚¬ëŒì´ ì™€ì„œ ìë¦¬ë¥¼ ë°”ê¿¨ë‹¤.",
        scenarioB: "ì˜í™”ê´€ì—ì„œ ë‚´ ìë¦¬ì— ë‹¤ë¥¸ ì‚¬ëŒì´ ì•‰ì•„ìˆì–´ì„œ ìë¦¬ë¥¼ ë°”ê¿”ë‹¬ë¼ê³  í–ˆë‹¤."
    },
    {
        id: 6,
        title: "ğŸ’° ë”ì¹˜í˜ì´ vs ì˜ëŠ” ìƒí™©",
        scenarioA: "ì¹œêµ¬ë“¤ê³¼ ë°¥ì„ ë¨¹ê³  'ë‚´ê°€ ì ê²Œ'ë¼ê³  í–ˆë‹¤ê°€, ìƒê°ë³´ë‹¤ ë¹„ì‹¸ì„œ ë”ì¹˜í˜ì´ë¥¼ ì œì•ˆí–ˆë‹¤.",
        scenarioB: "ì¹œêµ¬ê°€ 'ë‚´ê°€ ì ê²Œ'ë¼ê³  í–ˆë‹¤ê°€, ê³„ì‚°í•  ë•Œ ë”ì¹˜í˜ì´ë¥¼ ì œì•ˆí–ˆë‹¤."
    },
    {
        id: 7,
        title: "ğŸš‡ ì§€í•˜ì²  ìë¦¬ ì–‘ë³´",
        scenarioA: "ì§€í•˜ì² ì—ì„œ í”¼ê³¤í•´ì„œ ë…¸ì•½ìì„ì— ì•‰ì•˜ëŠ”ë°, ë…¸ì¸ë¶„ì´ íƒ€ì…¨ì§€ë§Œ ëª» ë³¸ ì²™ í–ˆë‹¤.",
        scenarioB: "ì§€í•˜ì²  ë…¸ì•½ìì„ì— ì Šì€ ì‚¬ëŒì´ ì•‰ì•„ìˆëŠ”ë°, ë…¸ì¸ë¶„ì´ íƒ€ì…”ë„ ìë¦¬ë¥¼ ì–‘ë³´í•˜ì§€ ì•Šì•˜ë‹¤."
    }
];

// ê²°ê³¼ íƒ€ì…ë“¤
const resultTypes = {
    saint: {
        title: "ì„±ì¸êµ°ìí˜•",
        emoji: "ğŸ˜‡",
        description: "ë‹¹ì‹ ì€ ê±°ì˜ ë‚´ë¡œë‚¨ë¶ˆì„ í•˜ì§€ ì•ŠëŠ” ì„±ì¸êµ°ìí˜•ì…ë‹ˆë‹¤! ìì‹ ê³¼ íƒ€ì¸ì—ê²Œ ë™ì¼í•œ ì£ëŒ€ë¥¼ ì ìš©í•˜ëŠ” ê³µì •í•œ ì„±ê²©ì˜ ì†Œìœ ìë„¤ìš”. ê°€ë”ì€ ìì‹ ì—ê²Œë„ ì¢€ ë” ê´€ëŒ€í•´ì ¸ë„ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”.",
        scoreRange: [0, 20]
    },
    moderate: {
        title: "ê· í˜•ì¡íŒ í˜„ì‹¤ì£¼ì˜ìí˜•",
        emoji: "ğŸ¤”",
        description: "ë‹¹ì‹ ì€ ì ë‹¹í•œ ìˆ˜ì¤€ì˜ ë‚´ë¡œë‚¨ë¶ˆ ì„±í–¥ì„ ê°€ì§„ í˜„ì‹¤ì£¼ì˜ìì…ë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ìƒí™©ì—ì„œëŠ” ê³µì •í•˜ì§€ë§Œ, ë•Œë¡œëŠ” ìì‹ ì—ê²Œ ì¢€ ë” ê´€ëŒ€í•œ ëª¨ìŠµì„ ë³´ì´ë„¤ìš”. ì´ ì •ë„ë©´ í‰ë²”í•œ ìˆ˜ì¤€ì´ì—ìš”!",
        scoreRange: [21, 40]
    },
    selective: {
        title: "ì„ íƒì  ê´€ëŒ€í˜•",
        emoji: "ğŸ˜…",
        description: "ë‹¹ì‹ ì€ ìƒí™©ì— ë”°ë¼ ë‹¤ë¥¸ ì£ëŒ€ë¥¼ ì ìš©í•˜ëŠ” ì„ íƒì  ê´€ëŒ€í˜•ì…ë‹ˆë‹¤. ìì‹ ì˜ ìƒí™©ì€ ì´í•´í•˜ì§€ë§Œ, ë‚¨ì˜ ìƒí™©ì€ ì¡°ê¸ˆ ì—„ê²©í•˜ê²Œ ë³´ëŠ” ê²½í–¥ì´ ìˆì–´ìš”. ì¡°ê¸ˆ ë” íƒ€ì¸ì˜ ì…ì¥ì—ì„œ ìƒê°í•´ë³´ëŠ” ê±´ ì–´ë–¨ê¹Œìš”?",
        scoreRange: [41, 60]
    },
    double_standard: {
        title: "ì´ì¤‘ì£ëŒ€ ë§ˆìŠ¤í„°í˜•",
        emoji: "ğŸ™„",
        description: "ë‹¹ì‹ ì€ ì œë²• ê°•í•œ ë‚´ë¡œë‚¨ë¶ˆ ì„±í–¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤! 'ë‚´ê°€ í•˜ë©´ ë¡œë§¨ìŠ¤, ë‚¨ì´ í•˜ë©´ ë¶ˆë¥œ' ìŠ¤íƒ€ì¼ì´ë„¤ìš”. ìì‹ ì—ê²ŒëŠ” ê´€ëŒ€í•˜ê³  íƒ€ì¸ì—ê²ŒëŠ” ì—„ê²©í•œ í¸ì…ë‹ˆë‹¤. ê°€ë”ì€ ì—­ì§€ì‚¬ì§€ì˜ ë§ˆìŒìœ¼ë¡œ ìƒê°í•´ë³´ì„¸ìš”!",
        scoreRange: [61, 80]
    },
    extreme: {
        title: "ë‚´ë¡œë‚¨ë¶ˆ ë ˆì „ë“œí˜•",
        emoji: "ğŸ¤ª",
        description: "ì™€! ë‹¹ì‹ ì€ ë‚´ë¡œë‚¨ë¶ˆì˜ ë‹¬ì¸ì…ë‹ˆë‹¤! ìì‹ ê³¼ íƒ€ì¸ì—ê²Œ ì™„ì „íˆ ë‹¤ë¥¸ ê¸°ì¤€ì„ ì ìš©í•˜ëŠ” ì§„ì •í•œ ë‚´ë¡œë‚¨ë¶ˆëŸ¬ë„¤ìš”. ì´ ì •ë„ë©´ ì˜ˆìˆ ì˜ ê²½ì§€ì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ë•Œë¡œëŠ” ê°ê´€ì ì¸ ì‹œê°ë„ í•„ìš”í•´ìš”! ğŸ˜„",
        scoreRange: [81, 100]
    },
    reverse: {
        title: "ì—­ë‚´ë¡œë‚¨ë¶ˆí˜•",
        emoji: "ğŸ˜±",
        description: "ì–´ë¼? ë‹¹ì‹ ì€ ì˜¤íˆë ¤ ìì‹ ì—ê²Œ ë” ì—„ê²©í•œ 'ì—­ë‚´ë¡œë‚¨ë¶ˆí˜•'ì´ë„¤ìš”! ìì‹ ì˜ í–‰ë™ì€ ì—„ê²©í•˜ê²Œ íŒë‹¨í•˜ë©´ì„œ íƒ€ì¸ì—ê²ŒëŠ” ê´€ëŒ€í•œ íŠ¹ì´í•œ ì¼€ì´ìŠ¤ì…ë‹ˆë‹¤. ìì‹ ì—ê²Œë„ ì¢€ ë” ê´€ëŒ€í•´ì ¸ë„ ë  ê²ƒ ê°™ì•„ìš”!",
        scoreRange: [-100, -1]
    }
};

// ê²°ê³¼ ë¶„ì„ í•¨ìˆ˜
function analyzeResults(answers) {
    let totalDifference = 0;
    let hypocrisyScore = 0;
    let rationalizationScore = 0;
    let toleranceScore = 0;
    
    answers.forEach(answer => {
        const diff = answer.scoreA - answer.scoreB; // ë‚´ê°€ í•  ë•Œ - ë‚¨ì´ í•  ë•Œ
        totalDifference += diff;
        
        // ì´ì¤‘ì£ëŒ€ ì„±í–¥ (ìì‹ ì—ê²Œ ê´€ëŒ€, íƒ€ì¸ì—ê²Œ ì—„ê²©)
        if (diff < 0) {
            hypocrisyScore += Math.abs(diff);
        }
        
        // ìê¸°í•©ë¦¬í™” ì ìˆ˜ (ìì‹ ì˜ í–‰ë™ì„ ì •ë‹¹í™”)
        if (answer.scoreA <= 2) {
            rationalizationScore += (3 - answer.scoreA);
        }
        
        // íƒ€ì¸ ê´€ëŒ€ì„± (íƒ€ì¸ì—ê²Œ ì–¼ë§ˆë‚˜ ê´€ëŒ€í•œê°€)
        toleranceScore += (5 - answer.scoreB);
    });
    
    // ì ìˆ˜ ì •ê·œí™” (0-100)
    const normalizedScore = Math.max(0, Math.min(100, 
        50 + (totalDifference / answers.length) * 12.5
    ));
    
    const normalizedHypocrisy = Math.min(100, (hypocrisyScore / (answers.length * 3)) * 100);
    const normalizedRationalization = Math.min(100, (rationalizationScore / answers.length) * 50);
    const normalizedTolerance = Math.min(100, (toleranceScore / (answers.length * 3)) * 100);
    
    return {
        overallScore: Math.round(normalizedScore),
        hypocrisyScore: Math.round(normalizedHypocrisy),
        rationalizationScore: Math.round(normalizedRationalization),
        toleranceScore: Math.round(normalizedTolerance)
    };
}

// ê²°ê³¼ íƒ€ì… ê²°ì • í•¨ìˆ˜
function getResultType(overallScore) {
    for (const [key, type] of Object.entries(resultTypes)) {
        if (overallScore >= type.scoreRange[0] && overallScore <= type.scoreRange[1]) {
            return type;
        }
    }
    return resultTypes.moderate; // ê¸°ë³¸ê°’
}